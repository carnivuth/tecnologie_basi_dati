- # OTTIMIZZAZIONE DELLE QUERY
	- ## CATALOGHI DI SISTEMA
		- tabelle in un loro spazio dei nomi **contengono i metadati** sul DB
		- schemi rilevanti
			- ##### SYSCAT
				- DB2 realizza lo standard  tramite le viste contenute in questo schema
			- ##### SYSSTAT
				- tabelle che contengono informazioni sul sistema
	- ## RAPPRESENTAZIONE INTERNA DI UNA QUERY
		- la query viene rappresentata internamente come un albero
		- ![image.png](../assets/image_1682501235377_0.png)
		- ### REWRITING
			- prima di qualunque cosa la query viene riscritta (*ottimizzazione semantica*)
			- lo scopo è quello di semplificare la query
			- le operazioni svolte sono
				- #### RISOLUZIONE DELLE VISTE
					- eliminazione delle liste
					- ##### esempio
						- ![image.png](../assets/image_1682501534544_0.png)s
				- #### UNNESTING
					- si cerca di rimuovere le subquery
					- ##### esempio senza correlazione
						- ![image.png](../assets/image_1682502130199_0.png)
					- ##### esempio con correlazione
						- ![image.png](../assets/image_1682502299124_0.png)
				- #### USO DEI VINCOLI
					- si sfruttano i vincoli sui dati per semplificare la query
					- ##### esempio
						- ![image.png](../assets/image_1682502417326_0.png)
						- ![image.png](../assets/image_1682502512442_0.png)
		- ### OTTIMIZZAZIONE
			- la fase che partendo dalla query riscritta genera un ((643ff00e-c706-4785-b008-330d570e6ece)) ovvero un albero di ((643ff00e-6492-49d1-b46b-a360d995014f))
			- ![image.png](../assets/image_1682502891658_0.png)
			- ### ESECUZIONE DEL PIANO DI ACCESSO
				- due possibilità di esecuzione
				- #### PER MATERIALIZZAZIONE
					- ogni operatore genera il risultato in una tabella temporanea
					- non parallelizzabile
					- le tabelle generate possono richiedere operazioni di IO
					- ##### esempio
						- ![image.png](../assets/image_1682503325543_0.png)
						- ![image.png](../assets/image_1682503590437_0.png)
				- #### IN PIPELINE
					- gli operatori sono inseriti in una sorta di pipeline
					- ogni operatore richiede i dati agli operatori in input
					- piu efficiente
					- non sempre possibile (*operatore sort*)
					- ##### esempio
						- ![image.png](../assets/image_1682503620416_0.png)
				- #### INTERFACCIA ITERATORE
					- per semplificare il codice di ordinamento si usa un interfaccia standardizzata per gli operatori
					- ![image.png](../assets/image_1682503693599_0.png)
					-
					-
				-